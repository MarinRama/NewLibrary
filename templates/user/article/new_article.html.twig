{% extends 'base.html.twig' %}

{% block title %}Add article{% endblock %}

{% block body %}
    <h1>Add Article</h1>

    {% if not form.vars.valid %}
        {{ form_start(form, {'attr':{'class':'was-validated mb-5'}}) }}
    {% else %}
        {{ form_start(form, {'attr':{'class':'mb-5'}}) }}
    {% endif %}

    <div class="form-group mt-2">
        {{ form_label(form.titre, null, {'label_attr': {'class':'form-label'}} ) }}
        {{ form_widget(form.titre, {'attr': {'class':'form-control'}}) }}
        <div class="invalid-feedback">
            {{ form_errors(form.titre) }}
        </div>
    </div>

    <div class="form-group mt-2">
        {{ form_label(form.description, null, {'label_attr': {'class':'form-label'}} ) }}
        {{ form_widget(form.description, {'attr': {'class':'form-control', "rows":"10"}}) }}
    </div>

    <div class="form-group mt-2">
        {{ form_label(form.dateCreation, null, {'label_attr': {'class':'form-label'}} ) }}
        {{ form_widget(form.dateCreation, {'attr': {'class':'form-control'}}) }}
    </div>

    <div class="form-group mt-2">
        {{ form_label(form.dateUpdate, null, {'label_attr': {'class':'form-label'}} ) }}
        {{ form_widget(form.dateUpdate, {'attr': {'class':'form-control'}}) }}
    </div>

    <div class="form-group mt-2">
        {{ form_label(form.categories, null, {'label_attr': {'class':'form-label'}} ) }}
        <small class="form-text text-muted">Ctrl + Click pour séléctionner plusieurs catégories</small>
        {{ form_widget(form.categories, {'attr': {'class':'form-control'}}) }}
    </div>

    <div class="form-group mt-2">
        {{ form_label(form.imageFile, null, {'label_attr': {'class':'form-label'}} ) }}
        <img alt="Image" src="{{ article.image }}" class="avatar rounded avatar-sm" style="width: 15em;">
        {{ form_widget(form.imageFile, {'attr': {'class':'form-control'}}) }}
    </div>

    {{ form_rest(form) }}
    <button class="btn btn-success">{{ button_label|default('Save') }}</button>
    {{ form_end(form) }}




{% endblock %}